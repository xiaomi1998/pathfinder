<!DOCTYPE html>
<html>
<head>
    <title>简单调试</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .btn { 
            padding: 10px 20px; 
            background: #4f46e5; 
            color: white; 
            border: none; 
            border-radius: 4px; 
            cursor: pointer;
            margin: 10px;
            display: block;
        }
        .btn:hover { background: #3730a3; }
        .result { 
            margin: 10px 0; 
            padding: 10px; 
            background: #f0f9ff; 
            border: 1px solid #0ea5e9;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>简单调试测试</h1>
    
    <button class="btn" onclick="testBasic()">测试基本功能</button>
    <button class="btn" onclick="testNavigation()">测试直接导航</button>
    <button class="btn" onclick="testFetch()">测试API请求</button>
    
    <div id="results"></div>
    
    <script>
        const results = document.getElementById('results');
        
        function addResult(message) {
            const div = document.createElement('div');
            div.className = 'result';
            div.innerHTML = `[${new Date().toLocaleTimeString()}] ${message}`;
            results.appendChild(div);
        }
        
        function testBasic() {
            addResult('✅ JavaScript基本功能正常');
            addResult(`✅ 当前URL: ${window.location.href}`);
        }
        
        function testNavigation() {
            addResult('🔄 尝试直接导航...');
            try {
                window.location.href = 'http://localhost:3000/funnels/create';
                addResult('✅ 导航请求已发送');
            } catch (error) {
                addResult(`❌ 导航失败: ${error.message}`);
            }
        }
        
        async function testFetch() {
            try {
                addResult('🔄 测试前端服务器连接...');
                const response = await fetch('http://localhost:3000/');
                addResult(`✅ 前端服务器响应: ${response.status}`);
                
                addResult('🔄 测试后端API连接...');
                const apiResponse = await fetch('http://localhost:8080/health');
                const apiData = await apiResponse.json();
                addResult(`✅ 后端API响应: ${apiData.message}`);
                
            } catch (error) {
                addResult(`❌ 网络测试失败: ${error.message}`);
            }
        }
        
        // 页面加载时自动执行
        window.onload = function() {
            addResult('🚀 调试页面已加载');
            testBasic();
        };
    </script>
</body>
</html>